(this.webpackJsonpcondition_editor_ui=this.webpackJsonpcondition_editor_ui||[]).push([[0],{72:function(e,t,a){},73:function(e,t,a){},80:function(e,t){window.datastore={getProducts:function(){return this.products},getProperties:function(){return this.properties},getOperators:function(){return this.operators},products:[{id:0,property_values:[{property_id:0,value:"Headphones"},{property_id:1,value:"black"},{property_id:2,value:5},{property_id:3,value:"electronics"},{property_id:4,value:"false"}]},{id:1,property_values:[{property_id:0,value:"Cell Phone"},{property_id:1,value:"black"},{property_id:2,value:3},{property_id:3,value:"electronics"},{property_id:4,value:"true"}]},{id:2,property_values:[{property_id:0,value:"Keyboard"},{property_id:1,value:"grey"},{property_id:2,value:5},{property_id:3,value:"electronics"},{property_id:4,value:"false"}]},{id:3,property_values:[{property_id:0,value:"Cup"},{property_id:1,value:"white"},{property_id:2,value:3},{property_id:3,value:"kitchenware"}]},{id:4,property_values:[{property_id:0,value:"Key"},{property_id:1,value:"silver"},{property_id:2,value:1},{property_id:3,value:"tools"}]},{id:5,property_values:[{property_id:0,value:"Hammer"},{property_id:1,value:"brown"},{property_id:2,value:19},{property_id:3,value:"tools"}]}],properties:[{id:0,name:"Product Name",type:"string"},{id:1,name:"color",type:"string"},{id:2,name:"weight (oz)",type:"number"},{id:3,name:"category",type:"enumerated",values:["tools","electronics","kitchenware"]},{id:4,name:"wireless",type:"enumerated",values:["true","false"]}],operators:[{text:"Equals",id:"equals"},{text:"Is greater than",id:"greater_than"},{text:"Is less than",id:"less_than"},{text:"Has any value",id:"any"},{text:"Has no value",id:"none"},{text:"Is any of",id:"in"},{text:"Contains",id:"contains"}]}},81:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(9),o=a.n(i),p=(a(72),a(55)),u=a(37),s=a(38),l=a(46),d=a(45),c=(a(73),a(47)),h=a(125),y=a(114),v=a(109),f=a(123),b=a(127),j=a(5),m=function(e){var t=e.propertyValue,a=e.properties,r=e.formProps,n=e.handleChange;return Object(j.jsx)(v.a,{children:Object(j.jsxs)(f.a,{name:"propertyInput",id:"propertyInput",value:t,inputProps:{"aria-label":"Without label"},onChange:n,style:r,displayEmpty:!0,children:[Object(j.jsx)(b.a,{value:"",disabled:!0,children:"Select a Property..."}),a.map((function(e){return Object(j.jsx)(b.a,{"data-property-id":e.id,"data-property-type":e.type,value:e.name,children:e.name.capitalize()},e.id)}))]})})},g=function(e){return null===e?"null":"number"===typeof e?e.toString():e},x=[{text:"Equals",id:"equals",type:["string","number","enumerated"],fn:function(e,t){return 0!=t.length&&(e=g(e),t[0].toUpperCase()===e.toUpperCase())}},{text:"Is greater than",id:"greater_than",type:["number"],fn:function(e,t){return t<e}},{text:"Is less than",id:"less_than",type:["number"],fn:function(e,t){return t>e}},{text:"Has any value",id:"any",type:["string","number","enumerated"],fn:function(e){return null!==e}},{text:"Has no value",id:"none",type:["string","number","enumerated"],fn:function(e){return console.log(e),null===e}},{text:"Is any of",id:"in",type:["string","number","enumerated"],fn:function(e,t){if(0==t.lessThan)return!1;var a=!1;return e=g(e),t.forEach((function(t){t.toUpperCase()===e.toUpperCase()&&(a=!0)})),a}},{text:"Contains",id:"contains",type:["string"],fn:function(e,t){return 0!=t.length&&e.toUpperCase().includes(t[0].toUpperCase())}}],I=function(e){var t=e.operatorInput,a=e.propertyInputType,r=e.formProps,n=e.handleChange;return Object(j.jsx)(v.a,{children:Object(j.jsxs)(f.a,{name:"operatorInput",id:"operatorInput",value:t.text,inputProps:{"aria-label":"Without label"},onChange:n,style:r,displayEmpty:!0,children:[Object(j.jsx)(b.a,{value:"",disabled:!0,children:"Select an Operator..."}),x.map((function(e){if(e.type.includes(a))return Object(j.jsx)(b.a,{"data-operator-id":e.id,value:e.text,children:e.text},e.id)}))]})})},O=a(112),_=function(e){var t=e.valueInput,a=e.distinctPropertyValues,r=e.handleChange;return Object(j.jsx)(v.a,{variant:"outlined",style:{textAlign:"left",minWidth:200,width:"auto"},children:Object(j.jsx)(f.a,{name:"multiValueInput",id:"multiValueInput",multiple:!0,value:t.value,onChange:r,input:Object(j.jsx)(O.a,{}),children:a.map((function(e){return Object(j.jsx)(b.a,{value:e,children:e.capitalize()},e)}))})})},C={propertyInput:{id:"",name:"",type:""},operatorInput:{text:""},valueInput:{value:[]},distinctPropertyValues:[]},D={filterContainer:{float:"left",margin:"1%"},btnContainer:{float:"right",margin:"1%"},filterInput:{marginLeft:10,marginRight:10}},P=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(e){var r;return Object(u.a)(this,a),(r=t.call(this,e)).getDistinctPropertyValues=function(e,t){var a={};return e.forEach((function(e){a[e[t]]||(a[e[t]]=null)})),Object.keys(a)},r.filterData=function(){var e=r.state.propertyInput.id,t=r.state.operatorInput,a=r.state.valueInput.value;if(e&&t.text&&a){var n=[];r.props.data.forEach((function(r){t.text&&t.fn(r[e],a)&&n.push(r)})),r.props.updateFilteredData(n)}},r.handleChange=function(e){var t=e.target.name,a=e.target.value,n={};switch(console.log(t),t){case"propertyInput":var i=e.currentTarget.dataset,o=i.propertyType,p=i.propertyId,u=r.getDistinctPropertyValues(r.props.data,p);n={propertyInput:{id:p,name:a,type:o},valueInput:{value:[]},distinctPropertyValues:u};break;case"operatorInput":var s=e.currentTarget.dataset.operatorId,l=x.find((function(e){return e.id===s}));n={operatorInput:l,valueInput:{value:[]}};break;case"valueInput":case"multiValueInput":a instanceof Array||(a=[a]),n={valueInput:{value:a}}}r.setState((function(e){return Object(c.a)(Object(c.a)({},e),n)}),(function(){r.filterData()}))},r.clearInputs=function(){r.setState(Object(c.a)({},C),(function(){r.props.updateFilteredData(r.props.data)}))},r.state=C,r}return Object(s.a)(a,[{key:"render",value:function(){var e=this.state.operatorInput.id;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{id:"filterInputsContainer",style:D.filterContainer,children:[Object(j.jsx)(m,{properties:this.props.properties,propertyValue:this.state.propertyInput.name,handleChange:this.handleChange,formProps:D.filterInput}),Object(j.jsx)(I,{operatorInput:this.state.operatorInput,propertyInputType:this.state.propertyInput.type,handleChange:this.handleChange,formProps:D.filterInput}),"in"===e?Object(j.jsx)(_,{valueInput:this.state.valueInput,distinctPropertyValues:this.state.distinctPropertyValues,handleChange:this.handleChange,style:D.filterInput}):e&&"any"!=e&&"none"!=e?Object(j.jsx)(h.a,{id:"valueInput",name:"valueInput",value:this.state.valueInput.value,onChange:this.handleChange,style:D.filterInput}):null]}),Object(j.jsx)("div",{id:"clearBtnContainer",style:D.btnContainer,children:Object(j.jsx)(y.a,{variant:"outlined",name:"clearButton",style:{textTransform:"none"},onClick:this.clearInputs,children:"Clear"})})]})}}]),a}(r.Component),w=a(115),k=a(124),S=a(116),V=a(117),T=a(118),E=a(119),F=a(120),B=a(121),L=Object(w.a)({container:{borderBottom:1},tableRow:{background:"rgba(136,206,251,0.15)"},header:{fontWeight:"bold",background:"rgba(136,206,251,0.3)",paddingTop:2,paddingBottom:2}}),N=function(e){var t=L(),a=e.properties,r=e.data;return Object(j.jsx)(k.a,{borderBottom:1,children:Object(j.jsx)(S.a,{className:t.container,children:Object(j.jsxs)(V.a,{className:t.table,children:[Object(j.jsx)(T.a,{children:Object(j.jsx)(E.a,{className:t.tableRow,children:a.map((function(e,a){return Object(j.jsx)(F.a,{className:t.header,children:e.name.capitalize()},"header-".concat(a))}))})}),Object(j.jsx)(B.a,{children:r.map((function(e,a){return Object(j.jsx)(E.a,{className:a%2?t.tableRow:null,children:Object.values(e).map((function(e,t){return Object(j.jsx)(F.a,{children:e},"property-".concat(t))}))},"product-".concat(e[0]))}))})]})})})},U=a(122),H=function(e){Object(l.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).loadDataStore=function(){e.setState({products:window.datastore.getProducts(),properties:window.datastore.getProperties()},(function(){var t=e.loadData(e.state.properties);e.setState({data:t,filteredData:t,isDataLoaded:!0})}))},e.loadData=function(t){return e.state.products.map((function(e){var a={};return t.forEach((function(t){var r=e.property_values[t.id]?e.property_values[t.id].value:null;a[t.id]=r})),a}))},e.updateFilteredData=function(t){e.setState({filteredData:Object(p.a)(t)})},e.state={products:[],properties:[],data:[],filteredData:[],isDataLoaded:!1},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.loadDataStore()}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(U.a,{children:[Object(j.jsx)(k.a,{mt:2,borderTop:1,borderLeft:1,borderRight:1,overflow:"hidden",children:Object(j.jsx)(P,{properties:this.state.properties,data:this.state.data,updateFilteredData:this.updateFilteredData})}),this.state.isDataLoaded?Object(j.jsx)(N,{properties:this.state.properties,data:this.state.filteredData}):null]})})}}]),a}(r.Component),z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,129)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,o=t.getTTFB;a(e),r(e),n(e),i(e),o(e)}))};a(80);String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(H,{})}),document.getElementById("root")),z()}},[[81,1,2]]]);
//# sourceMappingURL=main.61a8c1d4.chunk.js.map