(this.webpackJsonpcondition_editor_ui=this.webpackJsonpcondition_editor_ui||[]).push([[0],{71:function(t,e,r){},72:function(t,e,r){},79:function(t,e){window.datastore={getProducts:function(){return this.products},getProperties:function(){return this.properties},getOperators:function(){return this.operators},products:[{id:0,property_values:[{property_id:0,value:"Headphones"},{property_id:1,value:"black"},{property_id:2,value:5},{property_id:3,value:"electronics"},{property_id:4,value:"false"}]},{id:1,property_values:[{property_id:0,value:"Cell Phone"},{property_id:1,value:"black"},{property_id:2,value:3},{property_id:3,value:"electronics"},{property_id:4,value:"true"}]},{id:2,property_values:[{property_id:0,value:"Keyboard"},{property_id:1,value:"grey"},{property_id:2,value:5},{property_id:3,value:"electronics"},{property_id:4,value:"false"}]},{id:3,property_values:[{property_id:0,value:"Cup"},{property_id:1,value:"white"},{property_id:2,value:3},{property_id:3,value:"kitchenware"}]},{id:4,property_values:[{property_id:0,value:"Key"},{property_id:1,value:"silver"},{property_id:2,value:1},{property_id:3,value:"tools"}]},{id:5,property_values:[{property_id:0,value:"Hammer"},{property_id:1,value:"brown"},{property_id:2,value:19},{property_id:3,value:"tools"}]}],properties:[{id:0,name:"Product Name",type:"string"},{id:1,name:"color",type:"string"},{id:2,name:"weight (oz)",type:"number"},{id:3,name:"category",type:"enumerated",values:["tools","electronics","kitchenware"]},{id:4,name:"wireless",type:"enumerated",values:["true","false"]}],operators:[{text:"Equals",id:"equals"},{text:"Is greater than",id:"greater_than"},{text:"Is less than",id:"less_than"},{text:"Has any value",id:"any"},{text:"Has no value",id:"none"},{text:"Is any of",id:"in"},{text:"Contains",id:"contains"}]}},80:function(t,e,r){"use strict";r.r(e);var a=r(0),n=r.n(a),i=r(9),o=r.n(i),p=(r(71),r(55)),u=r(37),s=r(38),l=r(46),d=r(45),c=(r(72),r(47)),h=r(124),y=r(114),f=r(108),v=r(122),b=r(126),j=r(5),m=function(t){var e=t.propertyValue,r=t.properties,a=t.formProps,n=t.handleChange;return Object(j.jsx)(f.a,{children:Object(j.jsxs)(v.a,{name:"propertyInput",id:"propertyInput",value:e,inputProps:{"aria-label":"Without label"},onChange:n,style:a,displayEmpty:!0,children:[Object(j.jsx)(b.a,{value:"",disabled:!0,children:"Select a Property..."}),r.map((function(t){return Object(j.jsx)(b.a,{"data-property-id":t.id,"data-property-type":t.type,value:t.name,children:t.name.capitalize()},t.id)}))]})})},g=function(t){return null===t?"":"number"===typeof t?t.toString():t},x=[{text:"Equals",id:"equals",type:["string","number","enumerated"],fn:function(t,e){return 0==e.length?!t:(t=g(t),e[0].toUpperCase()===t.toUpperCase())}},{text:"Is greater than",id:"greater_than",type:["number"],fn:function(t,e){return e<t}},{text:"Is less than",id:"less_than",type:["number"],fn:function(t,e){return e>t}},{text:"Has any value",id:"any",type:["string","number","enumerated"],fn:function(t){return null!==t}},{text:"Has no value",id:"none",type:["string","number","enumerated"],fn:function(t){return null===t}},{text:"Is any of",id:"in",type:["string","number","enumerated"],fn:function(t,e){if(0==e.lessThan)return!1;var r=!1;return t=g(t),e.forEach((function(e){(e="null"===e?"":e).toUpperCase()===t.toUpperCase()&&(r=!0)})),r}},{text:"Contains",id:"contains",type:["string"],fn:function(t,e){return 0!=e.length&&t.toUpperCase().includes(e[0].toUpperCase())}}],I=function(t){var e=t.operatorInput,r=t.propertyInputType,a=t.formProps,n=t.handleChange;return Object(j.jsx)(f.a,{children:Object(j.jsxs)(v.a,{name:"operatorInput",id:"operatorInput",value:e.text,inputProps:{"aria-label":"Without label"},onChange:n,style:a,displayEmpty:!0,children:[Object(j.jsx)(b.a,{value:"",disabled:!0,children:"Select an Operator..."}),x.map((function(t){if(t.type.includes(r))return Object(j.jsx)(b.a,{"data-operator-id":t.id,value:t.text,children:t.text},t.id)}))]})})},O=r(113),_=r(111),C=Object(O.a)({mutliSelectForm:{textAlign:"left",minWidth:200,width:"auto"}}),P=function(t){var e=t.valueInput,r=t.distinctPropertyValues,a=t.formProps,n=t.handleChange,i=C();return Object(j.jsx)(f.a,{variant:"outlined",className:i.mutliSelectForm,children:Object(j.jsx)(v.a,{name:"multiValueInput",id:"multiValueInput",multiple:!0,value:e.value,onChange:n,style:a,input:Object(j.jsx)(_.a,{}),children:r.map((function(t){return Object(j.jsx)(b.a,{value:t,children:t.capitalize()},t)}))})})},D={propertyInput:{id:"",name:"",type:""},operatorInput:{text:""},valueInput:{value:[]},distinctPropertyValues:[]},w={filterContainer:{float:"left",margin:"1%"},btnContainer:{float:"right",margin:"1%"},filterInput:{marginLeft:10,marginRight:10}},k=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(t){var a;return Object(u.a)(this,r),(a=e.call(this,t)).getDistinctPropertyValues=function(t,e){var r={};return t.forEach((function(t){r[t[e]]||(r[t[e]]=null)})),Object.keys(r)},a.filterData=function(){var t=a.state.propertyInput.id,e=a.state.operatorInput,r=a.state.valueInput.value;if(t&&e.text&&r){var n=[];a.props.data.forEach((function(a){e.text&&e.fn(a[t],r)&&n.push(a)})),a.props.updateFilteredData(n)}else a.props.updateFilteredData(a.props.data)},a.handleChange=function(t){var e=t.target.name,r=t.target.value,n={};switch(e){case"propertyInput":var i=t.currentTarget.dataset,o=i.propertyType,p=i.propertyId,u=a.getDistinctPropertyValues(a.props.data,p),s=a.state.operatorInput;s.text&&!s.type.includes(o)&&(s=D.operatorInput),n={propertyInput:{id:p,name:r,type:o},operatorInput:s,valueInput:{value:[]},distinctPropertyValues:u};break;case"operatorInput":var l=t.currentTarget.dataset.operatorId,d=x.find((function(t){return t.id===l}));n={operatorInput:d,valueInput:{value:[]}};break;case"valueInput":case"multiValueInput":r instanceof Array||(r=[r]),n={valueInput:{value:r}}}a.setState((function(t){return Object(c.a)(Object(c.a)({},t),n)}),(function(){a.filterData()}))},a.clearInputs=function(){a.setState(Object(c.a)({},D),(function(){a.props.updateFilteredData(a.props.data)}))},a.state=D,a}return Object(s.a)(r,[{key:"render",value:function(){var t=this.state.operatorInput.id;return Object(j.jsxs)("div",{children:[Object(j.jsxs)("div",{id:"filterInputsContainer",style:w.filterContainer,children:[Object(j.jsx)(m,{properties:this.props.properties,propertyValue:this.state.propertyInput.name,handleChange:this.handleChange,formProps:w.filterInput}),Object(j.jsx)(I,{operatorInput:this.state.operatorInput,propertyInputType:this.state.propertyInput.type,handleChange:this.handleChange,formProps:w.filterInput}),"in"===t?Object(j.jsx)(P,{valueInput:this.state.valueInput,distinctPropertyValues:this.state.distinctPropertyValues,handleChange:this.handleChange,formProps:w.filterInput}):t&&"any"!=t&&"none"!=t?Object(j.jsx)(h.a,{id:"valueInput",name:"valueInput",type:"number"===this.state.propertyInput.type?"number":"text",value:this.state.valueInput.value,onChange:this.handleChange,style:w.filterInput}):null]}),Object(j.jsx)("div",{id:"clearBtnContainer",style:w.btnContainer,children:Object(j.jsx)(y.a,{variant:"outlined",name:"clearButton",style:{textTransform:"none"},onClick:this.clearInputs,children:"Clear"})})]})}}]),r}(a.Component),S=r(123),F=r(115),V=r(116),T=r(117),E=r(118),N=r(119),B=r(120),L=Object(O.a)({container:{borderBottom:1},tableRow:{background:"rgba(136,206,251,0.15)"},header:{fontWeight:"bold",background:"rgba(136,206,251,0.3)",paddingTop:2,paddingBottom:2}}),U=function(t){var e=L(),r=t.properties,a=t.data;return Object(j.jsx)(S.a,{borderBottom:1,children:Object(j.jsx)(F.a,{className:e.container,children:Object(j.jsxs)(V.a,{className:e.table,children:[Object(j.jsx)(T.a,{children:Object(j.jsx)(E.a,{className:e.tableRow,children:r.map((function(t,r){return Object(j.jsx)(N.a,{className:e.header,children:t.name.capitalize()},"header-".concat(r))}))})}),Object(j.jsx)(B.a,{children:a.map((function(t,r){return Object(j.jsx)(E.a,{className:r%2?e.tableRow:null,children:Object.values(t).map((function(t,e){return Object(j.jsx)(N.a,{children:t},"property-".concat(e))}))},"product-".concat(t[0]))}))})]})})})},H=r(121),z=function(t){Object(l.a)(r,t);var e=Object(d.a)(r);function r(){var t;return Object(u.a)(this,r),(t=e.call(this)).loadDataStore=function(){t.setState({products:window.datastore.getProducts(),properties:window.datastore.getProperties()},(function(){var e=t.parseProductData(t.state.properties);t.setState({data:e,filteredData:e,isDataLoaded:!0})}))},t.parseProductData=function(e){return t.state.products.map((function(t){var r={};return e.forEach((function(e){var a=t.property_values[e.id]?t.property_values[e.id].value:null;r[e.id]=a})),r}))},t.updateFilteredData=function(e){t.setState({filteredData:Object(p.a)(e)})},t.state={products:[],properties:[],data:[],filteredData:[],isDataLoaded:!1},t}return Object(s.a)(r,[{key:"componentDidMount",value:function(){this.loadDataStore()}},{key:"render",value:function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(H.a,{children:[Object(j.jsx)(S.a,{mt:2,borderTop:1,borderLeft:1,borderRight:1,overflow:"hidden",children:Object(j.jsx)(k,{properties:this.state.properties,data:this.state.data,updateFilteredData:this.updateFilteredData})}),this.state.isDataLoaded?Object(j.jsx)(U,{properties:this.state.properties,data:this.state.filteredData}):null]})})}}]),r}(a.Component),R=function(t){t&&t instanceof Function&&r.e(3).then(r.bind(null,128)).then((function(e){var r=e.getCLS,a=e.getFID,n=e.getFCP,i=e.getLCP,o=e.getTTFB;r(t),a(t),n(t),i(t),o(t)}))};r(79);String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(z,{})}),document.getElementById("root")),R()}},[[80,1,2]]]);
//# sourceMappingURL=main.ee6941a5.chunk.js.map